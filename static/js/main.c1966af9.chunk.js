(this["webpackJsonpreact-list"]=this["webpackJsonpreact-list"]||[]).push([[0],{104:function(e,a,r){},105:function(e,a,r){},119:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),o=r(12),l=r.n(o),i=(r(104),r(105),r(37)),c=r(170),s=r(159),m=r(165),p=r(79),u=r.n(p),d=r(63),y=r(152),j=r(156),g=r(155),b=r(166),f=r(5),h=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),_=function(){return Object(f.jsx)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:"Copyright \xa9 Patrick Ceasar Munoz ".concat((new Date).getFullYear(),".")})},O=function(e){var a=e.children,r=h();return Object(f.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(j.a,{}),Object(f.jsx)("div",{className:r.paper,children:a}),Object(f.jsx)(b.a,{mt:8,children:Object(f.jsx)(_,{})})]})},x=r(54),v=function(){return Object(x.b)()},w=x.c,C="LOGIN_USER",k="LOGOUT_USER",S="FETCH_EMPLOYEES",E=r(61),U=Object(E.a)({name:"currentUser",initialState:{user:null},reducers:{setCurrentUser:function(e,a){e.user=a.payload},loginError:function(e,a){console.log("error"),e.error=a.payload}}}),N=(U.actions.setCurrentUser,function(e){return e.currentUser.user}),I=function(e){return e.currentUser.error},L=U.reducer,B=r(158),W=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),G=function(){var e=W(),a=v(),r=w(I),t=n.a.useState(""),o=Object(i.a)(t,2),l=o[0],p=o[1],y=n.a.useState(""),j=Object(i.a)(y,2),g=j[0],b=j[1];return Object(f.jsxs)(O,{children:[Object(f.jsx)(c.a,{className:e.avatar,children:Object(f.jsx)(u.a,{})}),Object(f.jsx)(d.a,{component:"h1",variant:"h5",children:"Login"}),Object(f.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:l,onChange:function(e){p(e.target.value)},error:!!r}),Object(f.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:g,onChange:function(e){b(e.target.value)},error:!!r}),!!r&&Object(f.jsx)(B.a,{error:!0,children:r}),Object(f.jsx)(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,onClick:function(){a({type:C,payload:{username:l,password:g}})},children:"Login"})]})},D=r(171),J=r(157),T=r(163),F=r(164),H=r(160),R=r(161),A=r(80),M=r.n(A),P=r(162),z=r(17),Y=Object(y.a)((function(e){return Object(D.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),q=function(e){var a=e.name,r=e.showBack,t=Y(),n=v(),o=Object(z.f)();return Object(f.jsx)("div",{className:t.root,children:Object(f.jsx)(H.a,{position:"static",children:Object(f.jsxs)(R.a,{children:[r&&Object(f.jsx)(P.a,{edge:"start",className:t.menuButton,color:"inherit",onClick:function(){o.goBack()},children:Object(f.jsx)(M.a,{})}),Object(f.jsx)(d.a,{variant:"h6",className:t.title,children:a}),Object(f.jsx)(s.a,{color:"inherit",onClick:function(){n({type:k})},children:"Logout"})]})})})},K=Object(E.a)({name:"employees",initialState:{list:[]},reducers:{setEmployees:function(e,a){console.log(a),e.list=a.payload},fetchEmployeesError:function(e,a){e.error=a.payload}}}),Q=(K.actions.setEmployees,function(e){return e.employees.list}),V=function(e){return e.employees.error},$=K.reducer,X=r(62),Z=r(169),ee=r(167);function ae(e){return Object(f.jsx)(ee.a,Object(X.a)({elevation:6,variant:"filled"},e))}var re=function(e){var a=e.message,r=n.a.useState(!0),t=Object(i.a)(r,2),o=t[0],l=t[1],c=function(e,a){"clickaway"!==a&&l(!1)};return Object(f.jsx)("div",{children:Object(f.jsx)(Z.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:o,autoHideDuration:6e3,onClose:c,children:Object(f.jsx)(ae,{severity:"error",onClose:c,children:a})})})},te=Object(y.a)((function(e){return Object(D.a)({root:{width:"100%",backgroundColor:e.palette.background.paper}})})),ne=function(){var e=te(),a=Object(z.f)(),r=w(Q),t=w(V),o=v(),l=n.a.useState(""),c=Object(i.a)(l,2),s=c[0],p=c[1],u=n.a.useState([]),d=Object(i.a)(u,2),y=d[0],j=d[1];return n.a.useEffect((function(){0===r.length&&o({type:S})}),[o,r]),n.a.useEffect((function(){r.length>0&&j(s?r.filter((function(e){return e.employee_name.toLocaleLowerCase().includes(s)})):r)}),[s,r]),Object(f.jsxs)(O,{children:[!!t&&Object(f.jsx)(re,{message:t}),Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsx)(q,{name:"List"}),Object(f.jsx)(m.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"search",label:"Search List",id:"search",value:s,onChange:function(e){p(e.target.value)}}),Object(f.jsx)(J.a,{component:"nav",children:y.map((function(e,r){return Object(f.jsx)(T.a,{button:!0,onClick:function(){return r=e.id,void a.push("/react-list/".concat(r));var r},children:Object(f.jsx)(F.a,{children:e.employee_name})},r)}))})]})]})},oe=r(50),le=Object(y.a)((function(e){return Object(D.a)({root:{width:"100%",backgroundColor:e.palette.background.paper}})})),ie=function(){var e=le(),a=Object(z.g)(),r=v(),t=w(Q),o=null===t||void 0===t?void 0:t.find((function(e){return e.id===parseInt(a.employeeId)}));return n.a.useEffect((function(){0===t.length&&r({type:S})}),[r,t]),Object(f.jsx)(O,{children:Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsx)(q,{name:"Detail",showBack:!0}),Object(f.jsxs)(J.a,{component:"nav",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:["Name: ",null===o||void 0===o?void 0:o.employee_name]})}),Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:["Age: ",null===o||void 0===o?void 0:o.employee_age]})}),Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:["Salary: ",null===o||void 0===o?void 0:o.employee_salary]})}),Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:["Image: ",null===o||void 0===o?void 0:o.profile_image]})})]})]})})},ce=function(){var e=w(N);return console.log("user",e),e?Object(f.jsx)(oe.a,{children:Object(f.jsxs)(z.c,{children:[Object(f.jsx)(z.a,{path:"/react-list/:employeeId",children:Object(f.jsx)(ie,{})}),Object(f.jsx)(z.a,{path:"/",children:Object(f.jsx)(ne,{})})]})}):Object(f.jsx)(G,{})},se=r(21),me=r(83),pe=r(25),ue=r.n(pe),de=r(22),ye=r(84),je=r(81),ge="react-list-currentUser",be=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;try{localStorage.setItem(a,e)}catch(r){}},fe=ue.a.mark(he);function he(e){var a,r,t,n;return ue.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=je,e.payload.username||e.payload.password){o.next=6;break}return o.next=4,Object(de.b)({type:"currentUser/loginError",payload:"Invalid username and password"});case 4:o.next=16;break;case 6:if(1!==(r=a.filter((function(a){return a.username===e.payload.username&&a.password===e.payload.password}))).length){o.next=14;break}return t=r[0],t.password,n=Object(ye.a)(t,["password"]),be(JSON.stringify(Object(X.a)({},n))),o.next=12,Object(de.b)({type:"currentUser/setCurrentUser",payload:r[0]});case 12:o.next=16;break;case 14:return o.next=16,Object(de.b)({type:"currentUser/loginError",payload:"Invalid username and password"});case 16:case"end":return o.stop()}}),fe)}var _e=function(){return fetch("http://dummy.restapiexample.com/api/v1/employees",{method:"GET"}).then((function(e){return console.log(e),e.json()})).then((function(e){return e}))},Oe=r(82),xe=ue.a.mark(ve);function ve(){var e,a,r;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(de.a)(_e);case 3:return e=t.sent,a=e.data,console.log("response",e),t.next=8,Object(de.b)({type:"employees/setEmployees",payload:a});case 8:t.next=19;break;case 10:return t.prev=10,t.t0=t.catch(0),r=Oe.data,console.log("local",r),console.log("error",t.t0),t.next=17,Object(de.b)({type:"employees/setEmployees",payload:r});case 17:return t.next=19,Object(de.b)({type:"employees/fetchEmployeesError",payload:"Error on fetching. Loading local employees data instead"});case 19:case"end":return t.stop()}}),xe,null,[[0,10]])}var we=ue.a.mark(Ce);function Ce(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(ge),e.next=3,Object(de.b)({type:"currentUser/setCurrentUser",payload:null});case 3:case"end":return e.stop()}}),we)}var ke=ue.a.mark(Se);function Se(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.c)(C,he);case 2:return e.next=4,Object(de.c)(k,Ce);case 4:return e.next=6,Object(de.c)(S,ve);case 6:case"end":return e.stop()}}),ke)}var Ee=Object(me.a)(),Ue={currentUser:{user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;try{var a=localStorage.getItem(e);if(null===a)return;return JSON.parse(a)}catch(r){return}}()},employees:{list:[]}},Ne=Object(se.b)({currentUser:L,employees:$}),Ie=Object(se.d)(Ne,Ue,Object(se.a)(Ee));Ee.run(Se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(f.jsx)(x.a,{store:Ie,children:Object(f.jsx)(ce,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e){e.exports=JSON.parse('[{"username":"user1","password":"user1","firstName":"First","lastName":"Last"}]')},82:function(e){e.exports=JSON.parse('{"status":"success","data":[{"id":1,"employee_name":"Tiger Nixon","employee_salary":320800,"employee_age":61,"profile_image":""},{"id":2,"employee_name":"Garrett Winters","employee_salary":170750,"employee_age":63,"profile_image":""},{"id":3,"employee_name":"Ashton Cox","employee_salary":86000,"employee_age":66,"profile_image":""},{"id":4,"employee_name":"Cedric Kelly","employee_salary":433060,"employee_age":22,"profile_image":""},{"id":5,"employee_name":"Airi Satou","employee_salary":162700,"employee_age":33,"profile_image":""},{"id":6,"employee_name":"Brielle Williamson","employee_salary":372000,"employee_age":61,"profile_image":""},{"id":7,"employee_name":"Herrod Chandler","employee_salary":137500,"employee_age":59,"profile_image":""},{"id":8,"employee_name":"Rhona Davidson","employee_salary":327900,"employee_age":55,"profile_image":""},{"id":9,"employee_name":"Colleen Hurst","employee_salary":205500,"employee_age":39,"profile_image":""},{"id":10,"employee_name":"Sonya Frost","employee_salary":103600,"employee_age":23,"profile_image":""},{"id":11,"employee_name":"Jena Gaines","employee_salary":90560,"employee_age":30,"profile_image":""},{"id":12,"employee_name":"Quinn Flynn","employee_salary":342000,"employee_age":22,"profile_image":""},{"id":13,"employee_name":"Charde Marshall","employee_salary":470600,"employee_age":36,"profile_image":""},{"id":14,"employee_name":"Haley Kennedy","employee_salary":313500,"employee_age":43,"profile_image":""},{"id":15,"employee_name":"Tatyana Fitzpatrick","employee_salary":385750,"employee_age":19,"profile_image":""},{"id":16,"employee_name":"Michael Silva","employee_salary":198500,"employee_age":66,"profile_image":""},{"id":17,"employee_name":"Paul Byrd","employee_salary":725000,"employee_age":64,"profile_image":""},{"id":18,"employee_name":"Gloria Little","employee_salary":237500,"employee_age":59,"profile_image":""},{"id":19,"employee_name":"Bradley Greer","employee_salary":132000,"employee_age":41,"profile_image":""},{"id":20,"employee_name":"Dai Rios","employee_salary":217500,"employee_age":35,"profile_image":""},{"id":21,"employee_name":"Jenette Caldwell","employee_salary":345000,"employee_age":30,"profile_image":""},{"id":22,"employee_name":"Yuri Berry","employee_salary":675000,"employee_age":40,"profile_image":""},{"id":23,"employee_name":"Caesar Vance","employee_salary":106450,"employee_age":21,"profile_image":""},{"id":24,"employee_name":"Doris Wilder","employee_salary":85600,"employee_age":23,"profile_image":""}],"message":"Successfully! All records has been fetched."}')}},[[119,1,2]]]);
//# sourceMappingURL=main.c1966af9.chunk.js.map